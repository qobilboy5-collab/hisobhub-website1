<!doctype html>
<html lang="uz">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HalolHisob ‚Äî Premium Buxgalteriya & Soliq</title>
<meta name="description" content="HalolHisob ‚Äî premium buxgalteriya, soliq va konsalting xizmatlari. Ishonchli, halol va professional." />
<meta name="theme-color" content="#0b0b0b" />
<meta property="og:title" content="HalolHisob ‚Äî Premium Buxgalteriya" />
<meta property="og:description" content="HalolHisob ‚Äî premium buxgalteriya, soliq va konsalting xizmatlari." />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Crect width='100%25' height='100%25' fill='%23000'/%3E%3Ctext x='50%25' y='55%25' font-size='28' text-anchor='middle' fill='%23d4af37' font-family='Arial%2C%20sans-serif'%3EHH%3C/text%3E%3C/svg%3E">
<style>
:root{
  --bg:#050506;
  --panel:#0f0f10;

  /* YORQIN RANGLAR  */
  --gold:#FFD54F;
  --gold-2:#FFB300;
  --neon-pink:#FF4D88;
  --neon-purple:#8E2DE2;
  --neon-blue:#4A00E0;
  --neon-yellow:#FFFF57;
  --glass:rgba(255,255,255,0.06);

  --muted:#cfcfcf;
  --radius:14px;
  --maxw:1100px;
}

/* BODY BACKGROUND ‚Äî PREMIUM + NEON */
body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:
    radial-gradient(circle at top right, #3817FF20, transparent),
    radial-gradient(circle at 30% 10%, #FF4D8820, transparent),
    linear-gradient(180deg,#000,#0a0a0a);
  color:#fff;
}

/* LOGO badge ‚Äî neon gradient */
.logo-badge{
  background:linear-gradient(145deg, var(--gold), var(--neon-pink), var(--neon-purple));
  color:#000;
  font-weight:900;
  box-shadow:0 0 18px #FFD54F55;
}

/* NAV LINKS hover ‚Äî neon highlight */
nav.main a:hover{
  color:var(--neon-pink);
  text-shadow:0 0 8px var(--neon-pink);
}

/* Buttons ‚Äî premium neon gradient */
/* BUTTON SIZING FIX ‚Äî normal, premium, neon */
button, .btn, .btn-primary, .form-btn, .cta {
  padding: 8px 16px;             /* kichikroq ichki bo‚Äòshliq */
  font-size: 14px;               /* matn hajmini biroz kichraytirish */
  min-width: auto;               /* oldin belgilangan katta min-width bo‚Äòlsa olib tashlash */
  width: fit-content;            /* tugma matniga mos o‚Äòlchamga kelsin */  
  line-height: 1.2;               /* balandlikni nazorat qilish */
  box-sizing: border-box;         /* padding + border ichiga olinadi */
}
.btn-outline {
  padding: 8px 14px;
  font-size: 14px;
}
/* PREMIUM NEON GRADIENT */
.btn-primary,
.cta,
.form-btn {
  background: linear-gradient(90deg, var(--gold), var(--neon-pink), var(--neon-purple));
  color: #000;
  border: none;
  box-shadow: 0 0 12px #FF4D8844;
}

/* HOVER ‚Äî Lekin kattalashmasin */
.btn-primary:hover,
.cta:hover,
.form-btn:hover {
  box-shadow: 0 0 20px #FF4D8899;
  transform: translateY(-2px);
}

/* OUTLINE BUTTON */
.btn-outline {
  background: transparent;
  border: 1px solid var(--gold);
  color: var(--gold);
}

.btn-outline:hover {
  background: var(--gold);
  color: #000;
  box-shadow: 0 0 18px #FFD54F99;
}
/* Cards */
.card{
  background:rgba(255,255,255,0.04);
  border:1px solid rgba(255,255,255,0.08);
  box-shadow:0 0 12px #FFD54F22;
  backdrop-filter:blur(8px);
}

/* Section headers */
h2{
  color:var(--gold);
  text-shadow:0 0 10px var(--gold-2);
}

/* Service items hover ‚Äî neon pop */
.svc:hover{
  transform:translateY(-6px);
  box-shadow:0 0 20px #FF4D8899;
  background:rgba(255,255,255,0.08);
}

/* Pricing cards */
.plan{
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(212,175,55,0.4);
    border-radius: 14px;
    padding: 20px;
    backdrop-filter: blur(6px);
    box-shadow: 0 0 18px rgba(212,175,55,0.25);
}

.plan .price{
  color:var(--neon-yellow);
  text-shadow:0 0 14px #FFFF5799;
}

/* Team avatars */
.avatar{
  background:linear-gradient(135deg,#222,#111, var(--neon-purple)30%);
}

/* CONTACT links */
.contact-card a{
  color:var(--gold);
}
.contact-card a:hover{
  color:var(--neon-pink);
  text-shadow:0 0 10px var(--neon-pink);
}

/* Inputs */
input,textarea{
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.12);
  backdrop-filter:blur(4px);
}
input:focus,textarea:focus{
  border-color:var(--neon-pink);
  box-shadow:0 0 12px var(--neon-pink);
}

/* Floating buttons */
.fab{
  background:linear-gradient(135deg, var(--gold), var(--neon-pink));
  box-shadow:0 0 18px #FF4D8899;
}
.fab:hover{
  transform:scale(1.1);
}

/* Loader ring */
.ring{
  border-top-color:var(--gold);
  box-shadow:0 0 20px var(--gold);
}

/* Fade-up animation */
.fade-up.show{
  opacity:1;
  transform:none;
  filter:drop-shadow(0 0 10px #FFD54F44);
}
</style>

</head>
<body>

<!-- Loader -->
<div id="loader" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(0,0,0,0.9), rgba(0,0,0,0.95));z-index:9999">
  <div style="text-align:center">
    <div style="width:72px;height:72px;border-radius:50%;border:6px solid rgba(212,175,55,0.12);border-top-color:var(--gold);animation:spin 1.4s linear infinite;margin:auto"></div>
    <div style="margin-top:10px;font-weight:800;color:var(--gold)">HalolHisob</div>
  </div>
</div>

<header class="header">
  <div class="header-inner">
    <div class="brand">
      <div class="logo-badge" aria-hidden="true">HH</div>
      <div>
        <div class="brand-title">HalolHisob</div>
        <div class="brand-sub">Premium Buxgalteriya & Soliq</div>
      </div>
    </div>

    <nav class="main" aria-label="main">
      <a href="#about" data-i18n="nav_about">Biz haqimizda</a>
      <a href="#services" data-i18n="nav_services">Xizmatlar</a>
      <a href="#pricing" data-i18n="nav_pricing">Narxlar</a>
      <a href="#contact" data-i18n="nav_contact">Aloqa</a>
      <div style="display:flex;gap:8px">
        <button class="lang-btn active" data-lang="uz">üá∫üáø</button>
        <button class="lang-btn" data-lang="ru">üá∑üá∫</button>
      </div>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="hero-inner">
    <div class="kicker fade-up" data-i18n="hero_kicker">Premium xizmat</div>
    <h1 class="fade-up" id="heroTitle" data-i18n="heroTitle">Buxgalteriya va soliq xizmatlari ‚Äî HalolHisob</h1>
    <p class="fade-up" id="heroText" data-i18n="heroText">Hisob-kitoblaringiz ishonchli qo‚Äòllarda ‚Äî soliq, buxgalteriya va kadrlar bo‚Äòyicha to‚Äòliq servis.</p>
    <div class="hero-actions fade-up">
      <a class="form-btn" href="#contact" data-i18n="cta_consult">Bepul maslahat</a>
    </div>
  </div>
</section>

<main class="grid">
  <div>
    <section id="about" class="card fade-up">
      <h2 data-i18n="aboutH">Biz haqimizda</h2>
      <p data-i18n="aboutP">HalolHisob ‚Äî korxona va tadbirkorlar uchun premium sinfdagi buxgalteriya, soliq va konsalting xizmatlarini taqdim etadi. Biz halol, shaffof va professional ishlaymiz.</p>
    </section>

    <section id="services" class="card fade-up">
      <h2 data-i18n="servicesH">Xizmatlar</h2>
      <div class="services-grid">
        <div class="svc">
          <h3 data-i18n="svc1_h">Buxgalteriya hisobini yuritish</h3>
          <p class="small" data-i18n="svc1_p">Doimiy hisob-kitob, menyu tahlil va hisobotlar.</p>
        </div>
        <div class="svc">
          <h3 data-i18n="svc2_h">Soliq hisobotlari</h3>
          <p class="small" data-i18n="svc2_p">Soliq rejalashtirish va hisobotlarni topshirish.</p>
        </div>
        <div class="svc">
          <h3 data-i18n="svc3_h">Konsalting</h3>
          <p class="small" data-i18n="svc3_p">Moliyaviy va strategik maslahatlar.</p>
        </div>
        <div class="svc">
          <h3 data-i18n="svc4_h">Kadrlar hisobi</h3>
          <p class="small" data-i18n="svc4_p">Xodimlar hisobini yuritish va hujjatlar.</p>
        </div>
      </div>
    </section>

    <section id="pricing" class="card fade-up">
      <h2 data-i18n="pricingH">Narxlar</h2>
      <div class="pricing">
        <div class="plan">
          <h4 data-i18n="plan_basic">BASIC</h4>
          <div class="price">$99</div>
          <ul class="small">
            <li data-i18n="plan_basic_1">Asosiy hisob-kitob</li>
            <li data-i18n="plan_basic_2">Yillik hisobot</li>
          </ul>
        </div>
        <div class="plan">
          <h4 data-i18n="plan_standard">STANDARD</h4>
          <div class="price">$199</div>
          <ul class="small">
            <li data-i18n="plan_std_1">Barcha BASIC</li>
            <li data-i18n="plan_std_2">Soliq maslahatlari</li>
          </ul>
        </div>
        <div class="plan">
          <h4 data-i18n="plan_premium">PREMIUM</h4>
          <div class="price">$399</div>
          <ul class="small">
            <li data-i18n="plan_prem_1">Barcha funksiya</li>
            <li data-i18n="plan_prem_2">Shaxsiy konsultant</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="team" class="card fade-up">
      <h2 data-i18n="teamH">Jamoa</h2>
      <div class="team">
        <div class="member">
          <div class="avatar" style="width:86px;height:86px;border-radius:50%;background:linear-gradient(135deg,#222,#111);margin:0 auto 8px"></div>
          <strong data-i18n="member1_name">Aziz</strong>
          <div class="small" data-i18n="member1_role">Bosh buxgalter</div>
        </div>
        <div class="member">
          <div class="avatar" style="width:86px;height:86px;border-radius:50%;background:linear-gradient(135deg,#222,#111);margin:0 auto 8px"></div>
          <strong data-i18n="member2_name">Gulbahor</strong>
          <div class="small" data-i18n="member2_role">Soliq mutaxassisi</div>
        </div>
        <div class="member">
          <div class="avatar" style="width:86px;height:86px;border-radius:50%;background:linear-gradient(135deg,#222,#111);margin:0 auto 8px"></div>
          <strong data-i18n="member3_name">Javlon</strong>
          <div class="small" data-i18n="member3_role">Kadrlar bo‚Äòlimi</div>
        </div>
      </div>
    </section>

    <section id="testimonials" class="card fade-up">
      <h2 data-i18n="testimonialsH">Mijozlar fikri</h2>
      <div style="display:flex;gap:12px;overflow:auto;padding-bottom:8px">
        <div style="min-width:280px;background:rgba(255,255,255,0.02);padding:12px;border-radius:8px">
          <p class="small" data-i18n="test1_text">‚ÄúJuda professional xizmat, hamma hujjatlar joyida.‚Äù</p><div class="small" data-i18n="test1_author">‚Äî Kamol</div>
        </div>
        <div style="min-width:280px;background:rgba(255,255,255,0.02);padding:12px;border-radius:8px">
          <p class="small" data-i18n="test2_text">‚ÄúSoliq bo‚Äòyicha aniq maslahatlar berdilar.‚Äù</p><div class="small" data-i18n="test2_author">‚Äî Nilufar</div>
        </div>
        <div style="min-width:280px;background:rgba(255,255,255,0.02);padding:12px;border-radius:8px">
          <p class="small" data-i18n="test3_text">‚ÄúIsh uslubi juda tartibli va tez.‚Äù</p><div class="small" data-i18n="test3_author">‚Äî Sardor</div>
        </div>
      </div>
    </section>

  </div>

  <!-- Sidebar -->
  <aside>
    <div class="card contact-card fade-up" id="contact">
      <h2 data-i18n="contactH">Aloqa</h2>
      <a href="tel:+998935680091">üìû +998 93 568 0091</a>
      <a href="https://t.me/Qobuljon_91" target="_blank" rel="noopener">üì± Telegram</a>
      <a href="https://maps.app.goo.gl/8NmrqxpXMERuyqqZ7" target="_blank" rel="noopener">üìç Manzil</a>
      <div class="small" data-i18n="worktime">Ish vaqti: Dush‚ÄìShan 09:00‚Äì18:00</div>

      <div style="height:12px"></div>

      <h3 data-i18n="formH">Bizga yozing</h3>
      <form id="contactForm" style="display:grid;gap:12px">
        <input type="text" id="cf_name" placeholder="Ismingiz" data-placeholder-uz="Ismingiz" data-placeholder-ru="–í–∞—à–µ –∏–º—è" required>
        <input type="text" id="cf_phone" placeholder="Telefon" data-placeholder-uz="Telefon" data-placeholder-ru="–¢–µ–ª–µ—Ñ–æ–Ω" required>
        <input type="email" id="cf_email" placeholder="Email (ixtiyoriy)" data-placeholder-uz="Email (ixtiyoriy)" data-placeholder-ru="Email (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
        <textarea id="cf_message" rows="5" placeholder="Xabaringiz..." data-placeholder-uz="Xabaringiz..." data-placeholder-ru="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." required></textarea>
        <button id="cf_send" class="form-btn" type="submit" data-i18n="sendBtn">Yuborish</button>
        <div id="cf_status" class="status small" aria-live="polite"></div>
        <div class="small" style="margin-top:8px;color:var(--muted)"><em data-i18n="fallback_note">* Agar Telegram orqali yuborish muvaffaqiyatsiz bo‚Äòlsa, email mijozingiz ochiladi (fallback).</em></div>
      </form>
    </div>

    <div class="card fade-up" id="map" style="margin-top:18px">
      <h2 data-i18n="mapH">Xarita</h2>
      <div class="map-embed"><iframe src="https://www.google.com/maps?q=41.311081,69.240562&z=15&output=embed" style="width:100%;height:200px;border:0" loading="lazy"></iframe></div>
    </div>
  </aside>
</main>

<footer>
  <div style="max-width:var(--maxw);margin:auto;padding:8px 20px">
    <div style="font-weight:800;color:var(--gold)">HalolHisob</div>
    <div class="small">¬© <span id="year"></span> HalolHisob ‚Äî Barcha huquqlar himoyalangan</div>
  </div>
</footer>

<!-- Scripts: i18n, form handling (POST to Vercel), UX -->
<script>
/* =========== Utilities =========== */
document.addEventListener('DOMContentLoaded', () => {
  // hide loader
  const loader = document.getElementById('loader');
  if(loader) setTimeout(()=> { loader.style.opacity='0'; setTimeout(()=>loader.remove(),450); }, 450);

  // reveal animations
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('show'); });
  },{threshold:0.12});
  document.querySelectorAll('.fade-up').forEach(el=>io.observe(el));

  // set year
  document.getElementById('year').innerText = new Date().getFullYear();
});

/* =========== i18n (UZ / RU) =========== */
const i18n = {
  uz:{ nav_about:"Biz haqimizda", nav_services:"Xizmatlar", nav_pricing:"Narxlar", nav_team:"Jamoa", nav_contact:"Aloqa", nav_map:"Filiallar", cta_consult:"Bepul maslahat", hero_kicker:"Premium xizmat", heroTitle:"Buxgalteriya va soliq xizmatlari ‚Äî HalolHisob", heroText:"Hisob-kitoblaringiz ishonchli qo‚Äòllarda ‚Äî soliq, buxgalteriya va kadrlar bo‚Äòyicha to‚Äòliq servis.", aboutH:"Biz haqimizda", aboutP:"HalolHisob ‚Äî korxona va tadbirkorlar uchun premium sinfdagi buxgalteriya, soliq va konsalting xizmatlarini taqdim etadi. Biz halol, shaffof va professional ishlaymiz.", servicesH:"Xizmatlar", svc1_h:"Buxgalteriya hisobini yuritish", svc1_p:"Doimiy hisob-kitob, menyu tahlil va hisobotlar.", svc2_h:"Soliq hisobotlari", svc2_p:"Soliq rejalashtirish va hisobotlarni topshirish.", svc3_h:"Konsalting", svc3_p:"Moliyaviy va strategik maslahatlar.", svc4_h:"Kadrlar hisobi", svc4_p:"Xodimlar hisobini yuritish va hujjatlar.", pricingH:"Narxlar", plan_basic:"BASIC", plan_basic_1:"Asosiy hisob-kitob", plan_basic_2:"Yillik hisobot", plan_standard:"STANDARD", plan_std_1:"Barcha BASIC", plan_std_2:"Soliq maslahatlari", plan_premium:"PREMIUM", plan_prem_1:"Barcha funksiya", plan_prem_2:"Shaxsiy konsultant", teamH:"Jamoa", member1_name:"Aziz", member1_role:"Bosh buxgalter", member2_name:"Gulbahor", member2_role:"Soliq mutaxassisi", member3_name:"Javlon", member3_role:"Kadrlar bo‚Äòlimi", testimonialsH:"Mijozlar fikri", test1_text:"‚ÄúJuda professional xizmat, hamma hujjatlar joyida.‚Äù", test1_author:"‚Äî Kamol", test2_text:"‚ÄúSoliq bo‚Äòyicha aniq maslahatlar berdilar.‚Äù", test2_author:"‚Äî Nilufar", test3_text:"‚ÄúIsh uslubi juda tartibli va tez.‚Äù", test3_author:"‚Äî Sardor", contactH:"Aloqa", formH:"Bizga yozing", sendBtn:"Yuborish", fallback_note:"* Agar Telegram orqali yuborish muvaffaqiyatsiz bo‚Äòlsa, email mijozingiz ochiladi (fallback).", mapH:"Xarita", worktime:"Ish vaqti: Dush‚ÄìShan 09:00‚Äì18:00", cf_success:"‚úîÔ∏è Muvaffaqiyatli yuborildi! Tez orada javob beramiz.", cf_error:"‚ùå Xatolik! Iltimos keyinroq urinib ko‚Äòring." },
  ru:{ nav_about:"–û –Ω–∞—Å", nav_services:"–£—Å–ª—É–≥–∏", nav_pricing:"–¶–µ–Ω—ã", nav_team:"–ö–æ–º–∞–Ω–¥–∞", nav_contact:"–ö–æ–Ω—Ç–∞–∫—Ç—ã", nav_map:"–§–∏–ª–∏–∞–ª—ã", cta_consult:"–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è", hero_kicker:"–ü—Ä–µ–º–∏—É–º —É—Å–ª—É–≥–∏", heroTitle:"–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–µ –∏ –Ω–∞–ª–æ–≥–æ–≤—ã–µ —É—Å–ª—É–≥–∏ ‚Äî HalolHisob", heroText:"–í–∞—à–∏ —Ä–∞—Å—á—ë—Ç—ã –≤ –Ω–∞–¥—ë–∂–Ω—ã—Ö —Ä—É–∫–∞—Ö ‚Äî –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è, –Ω–∞–ª–æ–≥–∏ –∏ –∫–∞–¥—Ä—ã –ø–æ–¥ –∫–ª—é—á.", aboutH:"–û –Ω–∞—Å", aboutP:"HalolHisob –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–µ, –Ω–∞–ª–æ–≥–æ–≤—ã–µ –∏ –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥–æ–≤—ã–µ —É—Å–ª—É–≥–∏ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π –∏ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π. –ú—ã —á–µ—Å—Ç–Ω—ã, –ø—Ä–æ–∑—Ä–∞—á–Ω—ã –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã.", servicesH:"–£—Å–ª—É–≥–∏", svc1_h:"–í–µ–¥–µ–Ω–∏–µ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏", svc1_p:"–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —É—á—ë—Ç, –∞–Ω–∞–ª–∏–∑ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å.", svc2_h:"–ù–∞–ª–æ–≥–æ–≤–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å", svc2_p:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–ª–æ–≥–æ–≤ –∏ –ø–æ–¥–∞—á–∞ –æ—Ç—á—ë—Ç–æ–≤.", svc3_h:"–ö–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥", svc3_p:"–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏.", svc4_h:"–ö–∞–¥—Ä–æ–≤—ã–π —É—á—ë—Ç", svc4_p:"–í–µ–¥–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.", pricingH:"–¶–µ–Ω—ã", plan_basic:"BASIC", plan_basic_1:"–ë–∞–∑–æ–≤—ã–π —É—á—ë—Ç", plan_basic_2:"–ì–æ–¥–æ–≤–æ–π –æ—Ç—á—ë—Ç", plan_standard:"STANDARD", plan_std_1:"–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ BASIC", plan_std_2:"–ù–∞–ª–æ–≥–æ–≤—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏", plan_premium:"PREMIUM", plan_prem_1:"–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏", plan_prem_2:"–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç", teamH:"–ö–æ–º–∞–Ω–¥–∞", member1_name:"–ê–∑–∏–∑", member1_role:"–ì–ª. –±—É—Ö–≥–∞–ª—Ç–µ—Ä", member2_name:"–ì—É–ª—å–±–∞—Ö–æ—Ä", member2_role:"–ù–∞–ª–æ–≥–æ–≤—ã–π —ç–∫—Å–ø–µ—Ä—Ç", member3_name:"–î–∂–∞–≤–ª–æ–Ω", member3_role:"–ö–∞–¥—Ä–æ–≤—ã–π –æ—Ç–¥–µ–ª", testimonialsH:"–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤", test1_text:"‚Äú–û—á–µ–Ω—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ, –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –ø–æ—Ä—è–¥–∫–µ.‚Äù", test1_author:"‚Äî –ö–∞–º–æ–ª", test2_text:"‚Äú–î–∞–ª–∏ —Ç–æ—á–Ω—ã–µ –∏ –ø–æ–ª–µ–∑–Ω—ã–µ –Ω–∞–ª–æ–≥–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã.‚Äù", test2_author:"‚Äî –ù–∏–ª—É—Ñ–∞—Ä", test3_text:"‚Äú–†–∞–±–æ—Ç–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞.‚Äù", test3_author:"‚Äî –°–∞—Ä–¥–æ—Ä", contactH:"–ö–æ–Ω—Ç–∞–∫—Ç—ã", formH:"–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏", sendBtn:"–û—Ç–ø—Ä–∞–≤–∏—Ç—å", fallback_note:"* –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram –Ω–µ —É–¥–∞–ª–∞—Å—å, –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–∞—à –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç (fallback).", mapH:"–ö–∞—Ä—Ç–∞", worktime:"–†–∞–±–æ—á–∏–µ —á–∞—Å—ã: –ü–Ω‚Äì–°–± 09:00‚Äì18:00", cf_success:"‚úîÔ∏è –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.", cf_error:"‚ùå –û—à–∏–±–∫–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ." }
};

let currentLang = 'uz';

function applyLang(code){
  currentLang = code;
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.getAttribute('data-i18n');
    if(i18n[code] && i18n[code][key] !== undefined) el.innerText = i18n[code][key];
  });
  // placeholders
  document.querySelectorAll('[data-placeholder-uz]').forEach(el=>{
    const p = el.getAttribute(`data-placeholder-${code}`);
    if(p) el.placeholder = p;
  });
  const statusEl = document.getElementById('cf_status');
  if(statusEl) statusEl.innerText = '';
}

// wire language buttons
document.querySelectorAll('.lang-btn').forEach(b=>{
  b.addEventListener('click', ()=> {
    document.querySelectorAll('.lang-btn').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    const code = b.dataset.lang || (b.innerText.includes('üá∑')? 'ru' : 'uz');
    applyLang(code);
  });
});
// default
applyLang(currentLang);

/* =========== Contact form (POST to Vercel serverless) =========== */
/*
  Secure approach: keep BOT_TOKEN + CHAT_ID on server (Vercel env vars).
  Server endpoint should accept POST JSON {name,phone,email,message} and forward to Telegram bot.
  Example endpoint used below (update to your deployed Vercel URL):
*/
const SERVER_ENDPOINT = "https://hisobhub-website12.vercel.app/api/sendForm"; // <-- update if different

document.getElementById('contactForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const statusEl = document.getElementById('cf_status');
  const name = document.getElementById('cf_name').value.trim();
  const phone = document.getElementById('cf_phone').value.trim();
  const email = document.getElementById('cf_email').value.trim();
  const message = document.getElementById('cf_message').value.trim();

  if(!name || !phone || !message){
    statusEl.style.color = '#ffb3b3';
    statusEl.innerText = (currentLang==='ru') ? i18n.ru.cf_error : 'Iltimos barcha majburiy maydonlarni to‚Äòldiring.';
    return;
  }

  statusEl.style.color = 'var(--gold)';
  statusEl.innerText = (currentLang==='ru') ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : 'Yuborilmoqda...';

  // Try serverless endpoint first (recommended)
  try{
    const res = await fetch(SERVER_ENDPOINT, {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ name, phone, email, message })
    });
    if(res.ok){
      statusEl.style.color = '#4cff4c';
      statusEl.innerText = (currentLang==='ru') ? i18n.ru.cf_success : i18n.uz.cf_success;
      document.getElementById('contactForm').reset();
      return;
    } else {
      console.warn('Server responded non-OK', res.status);
      // fallthrough to mailto fallback
    }
  }catch(err){
    console.warn('Serverless endpoint failed:', err);
  }

  // Fallback: use Telegram direct GET (may be blocked by CORS) or mailto
  try{
    // If you temporarily want direct Telegram from frontend (NOT SECURE) uncomment and fill BOT_TOKEN/CHAT_ID
    // const BOT_TOKEN = "YOUR_BOT_TOKEN";
    // const CHAT_ID = "YOUR_CHAT_ID";
    // const txt = encodeURIComponent(`üì® New request\nName: ${name}\nPhone: ${phone}\nEmail: ${email}\n\nMessage:\n${message}`);
    // const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${txt}`;
    // await fetch(url);

    // Mailto fallback
    const subject = encodeURIComponent((currentLang==='ru') ? 'HalolHisob: –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ - ' + name : 'HalolHisob: Yangi murojaat - ' + name);
    const body = encodeURIComponent(`Ism: ${name}\nTelefon: ${phone}\nEmail: ${email}\n\nXabar:\n${message}`);
    window.location.href = `mailto:info@halolhisob.uz?subject=${subject}&body=${body}`;
    statusEl.style.color = '#e6c563';
    statusEl.innerText = (currentLang==='ru') ? 'üìß –ü–æ—è–≤–∏—Ç—Å—è –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç (fallback).' : 'üìß Email mijozingiz ochilmoqda (fallback).';
  }catch(mailErr){
    console.error('Fallback failed', mailErr);
    statusEl.style.color = 'red';
    statusEl.innerText = (currentLang==='ru') ? i18n.ru.cf_error : i18n.uz.cf_error;
  }
});

/* =========== Smooth scrolling for anchor links =========== */
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click', function(e){
    const target = document.querySelector(this.getAttribute('href'));
    if(target){ e.preventDefault(); target.scrollIntoView({behavior:'smooth',block:'start'}); }
  });
});
  /* ======================= TELEGRAM FORM WORKING ======================= */
const BOT_TOKEN = "8510583908:AAHeWTAHaTESJhN9ZfNjqkbkqo5uT5MrzTs_E74";
const CHAT_ID = "-1003236510040";

document.getElementById("contactForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const name = document.getElementById("cf_name").value.trim();
    const phone = document.getElementById("cf_phone").value.trim();
    const email = document.getElementById("cf_email").value.trim();
    const message = document.getElementById("cf_message").value.trim();
    const status = document.getElementById("cf_status");

    if (!name || !phone || !message) {
        status.style.color = "red";
        status.innerText = "‚ùó Majburiy maydonlar toldirilmagan!";
        return;
    }

    status.style.color = "var(--gold)";
    status.innerText = "‚è≥ Yuborilmoqda...";

    const text =
        `üì® *Yangi murojaat:*\n\n` +
        `üë§ *Ism:* ${name}\n` +
        `üìû *Telefon:* ${phone}\n` +
        `üìß *Email:* ${email || "‚Äî"}\n` +
        `üí¨ *Xabar:* ${message}`;

    try {
        const send = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                chat_id: CHAT_ID,
                text: text,
                parse_mode: "Markdown"
            })
        });

        if (send.ok) {
            status.style.color = "#48ff48";
            status.innerText = "‚úîÔ∏è Yuborildi!";
            document.getElementById("contactForm").reset();
        } else {
            throw new Error("Telegram returned error");
        }
    } catch (err) {
        console.error(err);
        status.style.color = "yellow";
        status.innerText = "üìß Telegram ishlamadi, email ochilmoqda...";

        // fallback
        window.location.href = `mailto:buxgalterconsalt@gmail.com?subject=Yangi murojaat: ${name}&body=${text}`;
    }
});
</script>

</body>
</html>
